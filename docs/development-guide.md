# Dungeon Manager 開發指南

## 開發環境設置

### 必要工具

- Node.js (v18+)
- PostgreSQL (v14+)
- Git
- VS Code (推薦)
- Docker (可選)

### 開發工具推薦

- VS Code 擴展
  - ESLint
  - Prettier
  - Vetur (Vue 2) / Volar (Vue 3)
  - GitLens
  - Docker

## 代碼規範

### 通用規範

1. 使用 ESLint 和 Prettier 進行代碼格式化
2. 遵循 TypeScript 嚴格模式
3. 使用有意義的變量名和函數名
4. 保持代碼簡潔，避免重複
5. 編寫清晰的註釋

### 命名規範

1. 文件命名

   - 組件文件：PascalCase (例如：`DungeonMap.vue`)
   - 工具文件：camelCase (例如：`authUtils.ts`)
   - 樣式文件：kebab-case (例如：`main-styles.css`)

2. 變量命名

   - 使用 camelCase
   - 布爾值使用 is/has/should 前綴
   - 常量使用大寫 SNAKE_CASE

3. 函數命名
   - 使用 camelCase
   - 動詞開頭
   - 清晰表達功能

### Git 工作流

1. 分支命名

   - 功能分支：`feature/功能名稱`
   - 修復分支：`fix/問題描述`
   - 發布分支：`release/版本號`

2. 提交信息
   - 格式：`類型(範圍): 描述`
   - 類型：
     - feat: 新功能
     - fix: 修復
     - docs: 文檔
     - style: 格式
     - refactor: 重構
     - test: 測試
     - chore: 構建

## 開發流程

### 1. 功能開發

1. 從主分支創建功能分支
2. 開發新功能
3. 編寫測試
4. 提交代碼
5. 創建 Pull Request

### 2. 代碼審查

1. 確保代碼符合規範
2. 檢查測試覆蓋率
3. 確認功能完整性
4. 審查文檔更新

### 3. 測試要求

1. 單元測試覆蓋率 > 80%
2. 編寫集成測試
3. 進行端到端測試
4. 性能測試

## 前端開發

### Vue 3 最佳實踐

1. 使用 Composition API
2. 組件設計原則
   - 單一職責
   - 可重用性
   - 可測試性

### 狀態管理

1. 使用 Pinia 進行狀態管理
2. 模塊化存儲設計
3. 異步操作處理

### 樣式指南

1. 使用 TailwindCSS
2. 遵循 BEM 命名規範
3. 響應式設計原則

## 後端開發

### NestJS 最佳實踐

1. 模塊化設計
2. 依賴注入
3. 中間件使用
4. 異常處理

### 數據庫操作

1. 使用 TypeORM
2. 事務處理
3. 查詢優化
4. 數據驗證

### API 設計

1. RESTful 原則
2. 版本控制
3. 錯誤處理
4. 文檔生成

## 部署流程

### 開發環境

1. 本地開發
2. 使用 Docker Compose
3. 環境變量配置

### 測試環境

1. CI/CD 流程
2. 自動化測試
3. 性能監控

### 生產環境

1. 部署檢查清單
2. 監控設置
3. 備份策略

## 故障排除

### 常見問題

1. 環境設置問題
2. 依賴安裝問題
3. 編譯錯誤
4. 運行時錯誤

### 調試技巧

1. 使用開發者工具
2. 日誌分析
3. 性能分析
4. 錯誤追蹤

## 文檔維護

### 文檔類型

1. API 文檔
2. 架構文檔
3. 部署文檔
4. 用戶指南

### 文檔更新

1. 代碼變更時同步更新
2. 定期審查
3. 版本控制
